{% extends "global/Page.html" %}
{% load otree static %} 

{% block title %}
    Select a meme to post by pressing a number
{% endblock %}

{% block content %}


<!-- need to choose different random images (┛ಠ_ಠ)┛彡┻━┻. 
 src="{{ static Image2 }}"-->


<div class="row">
    <div class="column">
      <label>1</label>
      <img id='memeshown1' src= {{ static Image }} value="1" style="width:100%">
    </div>
    <div class="column">
      <label>2</label>
      <img id='memeshown2' src={{ static Image2 }} value="2" style="width:100%">
      
    </div>
    <div class="column">
      <label>3</label>
      <img id='memeshown3' src= {{ static Image3 }} value="3" style="width:100%">
    </div>
</div>

<div class="row">
    <div class="column">
      <label>4</label>
      <img id='memeshown4' src= {{ static Image4 }}  value="4" style="width:100%">
    </div>
    <div class="column">
      <label>5</label>
      <img id='memeshown5' src= {{ static Image5 }}  value="5" style="width:100%">
    </div>
    <div class="column">
      <label>6</label>
      <img id='memeshown6' src= {{ static Image6 }}  value="6" style="width:100%">
    </div>
</div>


 <!-- what does ALT do ._. -->

<!--if you wanted to choose an specific location inside your computer you set up the path like this
   <div class="column">
  <img id='meme-shown3' src="{{ static 'HR/meme7.jpg' }}" alt="Mountains" style="width:100%">
</div> -->

<!-- How to create a row of images with three colums inside  -->

<!-- <div class="row"> 
    <div class="column">
      <img src="img_snow.jpg" alt="Snow" style="width:100%">
    </div>
    <div class="column">
      <img src="img_forest.jpg" alt="Forest" style="width:100%">
    </div>
    <div class="column">
      <img src="img_mountains.jpg" alt="Mountains" style="width:100%">
    </div>
  </div>
</div> -->

 <style>
  /* Three image containers (use 25% for four, and 50% for two, etc) */
  .column {
    float: left;
    width: 33.33%;
    padding: 5px;
  }
  
  /* Clear floats after image containers */
  .row::after {
    content: "";
    clear: both;
    display: table;
    }

.row {
  display: flex;
}

.column {
  flex: 33.33%;
  padding: 5px;
}

/* to make the numbers big and aligned in the middle :D */
label {
  display: block;
  text-align: center;
  font-size: 2em;
}
</style>

<button class="btn btn-primary">Continue yooooo</button>

<!-- keycode seems to change for the top of the keyboard and the numbers in numeric keyboard 
  (one is e.keycode and the other is keycode )

if ((e.key >= 48 && e.key <= 57) || (e.key >= 96 && e.key <= 105)) { // 0-9 only }
 48=0, 49=1, 50=2, 51=3, 52=4, 54=5, 55=6 -->

<!-- Important note: These keycode values are only valid during in keydown and keyup events. 
  On Mac, keypress events give you an completely different set of codes, yay-->

<script> 
    // Hidden Next Button
    let EndButton               = document.createElement('button');
    EndButton.style.visibility  = 'hidden';
    EndButton.className         = 'next_button btn btn-primary btn-large';

    // Create hidden input (Decision)
    let iDec2        = document.createElement("input");
    iDec2.type       = 'hidden';
    iDec2.name       = 'iDec2';
    iDec2.id         = 'iDec2';
    iDec2.value      = '';

    let dRT          = document.createElement("input");
    dRT.type         = 'hidden';
    dRT.name         = 'dRTPost';
    dRT.id           = 'dRTPost';
    dRT.value        = '';
    var TStart       = new Date().getTime();
    var TEnd         = new Date().getTime();

    document.addEventListener("DOMContentLoaded", function(debug=true) {
        console.log('Loading info');

        let OtreeBody     = document.getElementsByClassName("_otree-content")[0];
        OtreeBody.appendChild(iDec2);
        OtreeBody.appendChild(dRT);
        OtreeBody.appendChild(EndButton);

        // take variables from python into javascript

        let ImageID = js_vars.ImageID;
        let Image2ID = js_vars.Image2ID;
        let Image3ID = js_vars.Image3ID;
        let Image4ID = js_vars.Image4ID;
        let Image5ID = js_vars.Image5ID;
        let Image6ID = js_vars.Image6ID;

        // Add event listener for pressing numbers
        document.addEventListener("keyup", function(event) {
          console.log(event.key);
        if (event.key === '1')   {
            // change input value
            iDec2.value = ImageID ;
            console.log('1 was pressed');
            TEnd      = new Date().getTime();
            dRT.value = +TEnd -TStart;
            // press next button
            EndButton.click();
        }
        if (event.key === '2') {
            iDec2.value = Image2ID;
            console.log('2 was pressed');
            TEnd      = new Date().getTime();
            dRT.value = +TEnd -TStart;
            EndButton.click();
        } 
        if (event.key === '3') {
            iDec2.value = Image3ID;
            console.log('3 was pressed');
            TEnd      = new Date().getTime();
            dRT.value = +TEnd -TStart;
            EndButton.click();
        }
        if (event.key === '4') {
            iDec2.value = Image4ID;
            console.log('4 was pressed');
            TEnd      = new Date().getTime();
            dRT.value = +TEnd -TStart;
            EndButton.click();
        }
        if (event.key === '5') {
            iDec2.value = Image5ID;
            console.log('5 was pressed');
            TEnd      = new Date().getTime();
            dRT.value = +TEnd -TStart;
            EndButton.click();
        }
        if (event.key === '6') {
            iDec2.value = Image6ID;
            TEnd      = new Date().getTime();
            dRT.value = +TEnd -TStart;
            console.log('6 was pressed');
            EndButton.click();
        }});
    });
</script>  

<!-- could have also done
  if ((event.keyCode ===50) || (event.keyCode === 97)) if 2 or 2 in keypad is pressed -->
{% endblock %}


 
// <script>
//   DAVID CODE :D

// var memenumbers=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180];
// var STIMS = new Array();
// for (i=1; i<=180; i++) {  
// 	STIMS['meme'+i]=R.image("static/images/Memes/meme"+i+".jpg",0,0, 0,0);
// };     

//  R.clear();
// i=1+memenumbers[block_num-2]*6 
// j=i+1
// k=i+2
// l=i+3
// m=i+4
// n=i+5

//  ChooseYourMeme=R.text( 500, 30, "Select a Meme by Pressing a Number on your Keyboard.").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post

//     One=R.text( 180, 110, "1").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
//     Two=R.text( 580, 110, "2").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
//     Three=R.text( 960, 110, "3").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post

//     Four=R.text( 180, 520, "4").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
//     Five=R.text( 580, 520, "5").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
//     Six=R.text( 960, 520, "6").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post


// top_left_stim = STIMS['meme'+i].clone().attr({"height":"350", "width":"350","x":20, "y":140});
// top_middle_stim = STIMS['meme'+j].clone().attr({"height":"350", "width":"350","x":400, "y":140});
// top_right_stim = STIMS['meme'+k].clone().attr({"height":"350", "width":"350","x":780, "y":140});

// down_left_stim = STIMS['meme'+l].clone().attr({"height":"350", "width":"350","x":20, "y":540});
// down_middle_stim = STIMS['meme'+m].clone().attr({"height":"350", "width":"350","x":400, "y":540});
// down_right_stim = STIMS['meme'+n].clone().attr({"height":"350", "width":"350","x":780, "y":540});
// </script>  