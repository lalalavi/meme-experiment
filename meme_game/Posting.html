{% extends "global/Page.html" %}
{% load otree static %} 

{% block title %}
    Select a meme to post by pressing a number
{% endblock %}

{% block content %}

<!-- How to create a row of images with three colums inside  -->
<!-- <div class="row"> 
    
    <div class="column">
      <img src="img_snow.jpg" alt="Snow" style="width:100%">
    </div>
    <div class="column">
      <img src="img_forest.jpg" alt="Forest" style="width:100%">
    </div>
    <div class="column">
      <img src="img_mountains.jpg" alt="Mountains" style="width:100%">
    </div>
  </div>
</div> -->

<!-- NEED TO FIND A WAY TO ALTER PHOTOS :D -->

<div class="row">
    <div class="column">
      <img id='meme-pic1' src= {{ static Image }} alt="Snow" style="width:100%">
    </div>
    <div class="column">
      <img id='meme-pic2' src= {{ static Image }} alt="Forest" style="width:100%">
    </div>
    <div class="column">
      <img id='meme-pic3' src= {{ static Image }} alt="Mountains" style="width:100%">
    </div>
</div>

<div class="row">
    <div class="column">
      <img id='meme-pic4' src= {{ static Image }}  alt="Snow" style="width:100%">
    </div>
    <div class="column">
      <img id='meme-pic5' src= {{ static Image }}  alt="Forest" style="width:100%">
    </div>
    <div class="column">
      <img id='meme-pic6' src= {{ static Image }}  alt="Mountains" style="width:100%">
    </div>
</div>

<!-- <div class="meme-body"> 
    <div class="img-wrapper">
        <img id='meme-pic' src= {{ static Image }} />
    </div>
    <div class="meme-text">
        <p>
            Press 'L' to like 
        </p>
        <p id="dislike">
            or 'K' to dislike
        </p>
    </div>
</div> -->

 <style>
  /* Three image containers (use 25% for four, and 50% for two, etc) */
  .column {
    float: left;
    width: 33.33%;
    padding: 5px;
  }
  
  /* Clear floats after image containers */
  .row::after {
    content: "";
    clear: both;
    display: table;
    }

.row {
  display: flex;
}

.column {
  flex: 33.33%;
  padding: 5px;
}
</style>

<style>
    .meme-body{
        display: flex;
        flex-direction: column;
        justify-content: center;
    } 

    .img-wrapper {
        width: 50vw;
        height: 50vh;
        justify-content: center;
    }

    #meme-pic{
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .meme-text {
        width: 50vw;
        display: flex;
        flex-direction: row;
        justify-content: center;
    }

    #dislike {
        padding-left: 1em;
    }
</style>

<script>
    // Load Treatment
    sTreat = js_vars.sTreat
    
    // Hidden Next Button
    let EndButton               = document.createElement('button');
    EndButton.style.visibility  = 'hidden';
    EndButton.className         = 'next_button btn btn-primary btn-large';

    // Create hidden input (Decision)
    let iDec        = document.createElement("input");
    iDec.type       = 'hidden';
    iDec.name       = 'iDec';
    iDec.id         = 'iDec';
    iDec.value      = '';

    document.addEventListener("DOMContentLoaded", function(debug=true) {
        console.log('Loading info');

        let OtreeBody     = document.getElementsByClassName("_otree-content")[0];
        OtreeBody.appendChild(iDec);
        OtreeBody.appendChild(EndButton);
        // Add event listener for pressing L
        document.addEventListener("keyup", function(event) {
        if (event.keyCode === 76) {
            // change input value
            iDec.value = 'L';
            console.log('L was pressed');
            // press next button
            EndButton.click();
        }
        });

        // Check for treatment
        console.log(sTreat);
        if (sTreat=='Like') {
            // Hide dislike option
            let x = document.getElementById('dislike');
            x.style.visibility = 'hidden';
        } else if (sTreat=='Dislike') {
            // Add EventListener for Dislike with K
            document.addEventListener("keyup", function(event) {
            if (event.keyCode === 75) {
                // change input value
                iDec.value = 'K';
                console.log('K was pressed');
                // press next button
                EndButton.click();
            }
        });
        }
    });
</script>

<div class="meme-body"> 
    <div class="img-wrapper">
        <img id='meme-pic' src= {{ static Image }} />
    </div>
    <div class="meme-text">
        <p>
            Press 'L' to like 
        </p>
        <p id="dislike">
            or 'K' to dislike
        </p>
    </div>

</div>




<!-- 
var memenumbers=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180];
var STIMS = new Array();
for (i=1; i<=180; i++) {  
	STIMS['meme'+i]=R.image("static/images/Memes/meme"+i+".jpg",0,0, 0,0);
};     -->

<!-- R.clear();
i=1+memenumbers[block_num-2]*6 
j=i+1
k=i+2
l=i+3
m=i+4
n=i+5

 ChooseYourMeme=R.text( 500, 30, "Select a Meme by Pressing a Number on your Keyboard.").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post

    One=R.text( 180, 110, "1").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
    Two=R.text( 580, 110, "2").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
    Three=R.text( 960, 110, "3").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post

    Four=R.text( 180, 520, "4").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
    Five=R.text( 580, 520, "5").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post
    Six=R.text( 960, 520, "6").attr({"fill":"white", "font-size":"35px", "font-weight":"bold"}); //Numbers above memes to post


top_left_stim = STIMS['meme'+i].clone().attr({"height":"350", "width":"350","x":20, "y":140});
top_middle_stim = STIMS['meme'+j].clone().attr({"height":"350", "width":"350","x":400, "y":140});
top_right_stim = STIMS['meme'+k].clone().attr({"height":"350", "width":"350","x":780, "y":140});

down_left_stim = STIMS['meme'+l].clone().attr({"height":"350", "width":"350","x":20, "y":540});
down_middle_stim = STIMS['meme'+m].clone().attr({"height":"350", "width":"350","x":400, "y":540});
down_right_stim = STIMS['meme'+n].clone().attr({"height":"350", "width":"350","x":780, "y":540});
}
 -->


{% endblock %}


