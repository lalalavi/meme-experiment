{{ block title }}
    Your post received...
{{ endblock }}

{{ block content }}


<p id="control-text"><label id="iLikes" value="{{l}}">{{l}}</text> people out of 40 liked your post</p>
<p id="dislike-text"><label id="iDislikes" value="{{d}}">{{d}}</label> people out of 40 did not like your post</p>

	 <script>
		generateHeart(500, 195, 1);
		generateHeart(550, 195, 1);
		generateHeart(600, 195, 1);
		generateHeart(650, 195, 1);
		generateHeart(690, 190, 1);
		generateHeart(750, 190, 1);
	</script>

	<!-- and 	<text id="iDislikes" value="{{d}}">{{d}}</text> dislikes -->


	<!-- <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"> </script> 
	<script> 
	var R = Raphael(40, 50, 1200, 1000); // Creates canvas 320 Ã— 200 at 40, 50
	var dot = R.circle(250, 150, 30).attr({ 
	fill: "#FFF", 
	stroke: "#000", 
	"stroke-width": 1 
	}); 
	</script> -->

	<!-- <body>
		<div class = "heart"></div>
	</body>

	to test if it creates the heart --> 



<script>

// if you do not put this stuff it will not get saved

let l        	= document.createElement("input");
	l.type       = 'hidden';
	l.name       = 'iLikes';
	l.id         = 'iLikes';
	l.value      = "{{l}}";

let d        = document.createElement("input");
	d.type       = 'hidden';
	d.name       = 'iDislikes';
	d.id         = 'iDislikes';
	d.value      = "{{d}}";

let dRT          = document.createElement("input");
	dRT.type         = 'hidden';
	dRT.name         = 'dRTFeedback';
	dRT.id           = 'dRTFeedback';
	dRT.value        = '';
	var TStart       = new Date().getTime();
	var TEnd         = new Date().getTime();

	document.addEventListener("DOMContentLoaded", function(debug=true) {
            console.log('Loading info');
            let OtreeBody     = document.getElementsByClassName("_otree-content")[0];
            OtreeBody.appendChild(dRT);
			OtreeBody.appendChild(l); // append likes
			OtreeBody.appendChild(d); // apend dislikes

			let DislikeText = document.getElementById("dislike-text")
			if (js_vars.treatment == "Control") {
				DislikeText.style.visibility = "none"
			}; //hidden

			// l.value = "{{l}}"
			// d.value = "{{d}}"
			// could have done this too

            function addtoev() {
            var bns = document.getElementsByTagName("button");
            for (i = 0; i < bns.length; i++) {
                bns[i].addEventListener("click", function() {
                TEnd      = new Date().getTime();
                dRT.value = +TEnd -TStart;   // end the timer and rewrite the RT value
              });
            }} // what this function is doing is the same as we do when we check
            // if somebody pressed a key, but instead of checking keys, 
            // we check whether they press any buttons :D
            

            window.addEventListener("load",function() {
            addtoev();
            });
        });
</script>

<div class="button">
	 <button class="btn btn-primary">Continue </button> 
</div>

<style>
form .buttons button {
	padding: 5px 10px;
	background-color: #67ab49;
	border: 0;
	border-radius: 3px;
	}

form .buttons .btn-primary {background-color: #67ab49;} 
form .buttons .btn-primary:hover {background-color: #14892c;}  
</style>

<style>
	.heart {
	   z-index : 999;
	   position : absolute;
	}
	.heart:before,
	.heart:after {
	   content : "";
	   background-color : #fc2a62;
	   position : absolute;
	   height : 30px;
	   width : 45px;
	   border-radius : 15px 0px 0px 15px;
	}
	.heart:before {
	   transform : rotate(45deg);
	}
	.heart:after {
	   left : 10.5px;
	   transform : rotate(135deg);
	}  	
</style>
	
<script>
	var brd = document.createElement("DIV");
	document.body.insertBefore(brd, document.getElementById("board"));
	// const duration = 3000;
	// const speed = 0.5;
	// const cursorXOffset = 0;
	// const cursorYOffset = -5;
	var hearts = [];
	function generateHeart(x, y, scale)
	{
	   var heart = document.createElement("DIV");
	   heart.setAttribute('class', 'heart');
	   brd.appendChild(heart);
	// heart.time = duration;
	   heart.x = x;
	   heart.y = y;
	// heart.bound = xBound;
	// heart.direction = xStart;
	   heart.style.left = heart.x + "px";
	   heart.style.top = heart.y + "px";
	   heart.scale = scale;
	   heart.style.transform = "scale(" + scale + "," + scale + ")";
	   if(hearts == null)
		hearts = [];
	   hearts.push(heart);
	   return heart;
	}
	</script>
	<script> 
	// //show otree timer lasy 10 sec
	// $(function () {
	// 	$('.otree-timer__time-left').on('update.countdown', function (event) {
	// 		if (event.offset.totalSeconds === 10) {
	// 			$('.otree-timer').show();
	// 		}
	// 	});
	// });
	// 
	</script>

{{ endblock }}


