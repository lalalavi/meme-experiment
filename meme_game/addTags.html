{% extends "global/Page.html" %}
{% load otree static %} 

{% block title %}
    
{% endblock %}

{% block content %}

<script type="text/javascript">
  keydownfun = function() {}; // Should unbind keys.

  let dRT          = document.createElement("input");
    dRT.type         = 'hidden';
    dRT.name         = 'dRTTags';
    dRT.id           = 'dRTTags';
    dRT.value        = '';
    var TStart       = new Date().getTime();
    var TEnd         = new Date().getTime();

</script>


<div id="centered">
  <br>
  <br>
    <h1>You can add 3 Tags to your Meme before you post it.</h1>

    <hr>

       Please add 3 tags to your meme here if you want.
       <br>
       <br>
       <div class="center">
        <div class="polaroid">
          <img src= {{ static Image }} style="width:60%">
          <div class="container">
            <p>Your post</p>
          </div>
        </div>
      </div>
       <br/> 
      <textarea rows="1" cols="30" maxlength="20" name="sTag1" id="sTag1" ></textarea>
      <br>
      <textarea rows="1" cols="30"  maxlength="20" name="sTag2" id="sTag2" ></textarea>
      <br>
      <textarea rows="1" cols="30"  maxlength="20" name="sTag3" id="sTag3" ></textarea>
 
</div>
<!-- If you want to make it obligatory for the people to fill in a value before
  submitting a form then you need to add REQUIRED ᶘ ᵒᴥᵒᶅ at the end, like this:
  <textarea rows="1" cols="30"  maxlength="20" name="tag3" id="tag3" required></textarea> 
-->


    <hr>

   
  <button class="btn btn-primary">Continue</button>

<script>
  document.addEventListener("DOMContentLoaded", function(debug=true) {
            console.log('Loading info');

            let OtreeBody     = document.getElementsByClassName("_otree-content")[0];
            OtreeBody.appendChild(dRT);

            function addtoev() {
            var bns = document.getElementsByTagName("button");
            for (i = 0; i < bns.length; i++) {
                bns[i].addEventListener("click", function() {
                TEnd      = new Date().getTime();
                dRT.value = +TEnd -TStart;   // end the timer and rewrite the RT value
              });
            }} 

            window.addEventListener("load",function() {
            addtoev();
            });
        });
</script>

<style>
div.polaroid {
  text-align: center;
  width: 60%;
  background-color: white;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  margin-bottom: 25px;
}

div.container {
  text-align: center;
  padding: 10px 20px;
}

.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 60%;
  }

.centered {
      text-align: center;
      max-width:100%;
      max-height:100%;
    }

h1 {
    text-align: center;
    color: #333;
    letter-spacing: 0.05em;
    margin: 0 0 0.4em;
    font-size: 1.2em;
    font-family: sans-serif;
}
</style>

{% endblock %}