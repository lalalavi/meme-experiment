{% extends "global/Page.html" %}
{% load otree static %} 

{% block title %}
    
{% endblock %}

{% block content %}

<script type="text/javascript">
  keydownfun = function() {}; // Should unbind keys.

  let dRT          = document.createElement("input");
    dRT.type         = 'hidden';
    dRT.name         = 'dRTTags';
    dRT.id           = 'dRTTags';
    dRT.value        = '';
    var TStart       = new Date().getTime();
    var TEnd         = new Date().getTime();

</script>


<div id="container-questionnaire">
  <br>
  <br>
  <br>
    <h1>You can add 3 Tags to your Meme before you post it.</h1>

    <hr>

    <div class="instructions well">

        <form id="postquiz" action="debrief" method="post">

       Please add 3 tags to your meme here if you want.<br/> 
        <textarea rows="1" cols="30" maxlength="20" name="sTag1" id="sTag1" ></textarea>
        <br>
<textarea rows="1" cols="30"  maxlength="20" name="sTag2" id="sTag2" ></textarea>
 <br>
<textarea rows="1" cols="30"  maxlength="20" name="sTag3" id="sTag3" ></textarea>

<!-- If you want to make it obligatory for the people to fill in a value before
  submitting a form then you need to add REQUIRED ᶘ ᵒᴥᵒᶅ at the end, like this:
  <textarea rows="1" cols="30"  maxlength="20" name="tag3" id="tag3" required></textarea> 
-->


    <hr>

   
  <button class="btn btn-primary">Continue</button>

<script>
  document.addEventListener("DOMContentLoaded", function(debug=true) {
            console.log('Loading info');

            let OtreeBody     = document.getElementsByClassName("_otree-content")[0];
            OtreeBody.appendChild(dRT);

            function addtoev() {
            var bns = document.getElementsByTagName("button");
            for (i = 0; i < bns.length; i++) {
                bns[i].addEventListener("click", function() {
                TEnd      = new Date().getTime();
                dRT.value = +TEnd -TStart;   // end the timer and rewrite the RT value
              });
            }} 

            window.addEventListener("load",function() {
            addtoev();
            });
        });
</script>

{% endblock %}